<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Detalle del personaje</title>
</head>
<body>
    <div id="character-detail"></div>

    <script>
        const container = document.getElementById("character-detail");
        const params = new URLSearchParams(window.location.search); // lee los signos que estan despues de ? en una url
        const id = params.get("id");

        async function getCharacterById(id) {
            try {
                const response = await fetch(`https://api.disneyapi.dev/character/${id}`);
                const data = await response.json();
                const character = data.data;

                container.innerHTML = `
                    <h1>${character.name}</h1>
                    <img src="${character.imageUrl}" alt="${character.name}">
                    <p><strong>Pel√≠culas:</strong> ${character.films.join(", ") || "N/A"}</p>
                    <p><strong>Series:</strong> ${character.tvShows.join(", ") || "N/A"}</p>
                `;
            } catch (error) {
                alert("No puede cargar la info del personaje"); // Por si llega a haber un error
            }
        }

        if (id) {
            getCharacterById(id);
        } else {
            alert("No se encuentra el ID")
        }
    </script>
</body>
</html>
